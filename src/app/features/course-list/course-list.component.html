<app-header></app-header>

<div class="text-center text-1 p-8" *ngIf="isAuthenticated; else loginTemplate">
  <h1>{{title}}</h1>
</div>

<div class="container mx-auto flex flex-col lg:flex-row gap-6 px-4 xl:px-0">
  <section class="w-full lg:w-1/3  space-y-4 lg:sticky lg:top-4 self-start h-fit">
    <div class="flex flex-col sm:flex-row sm:items-center gap-4">
      <input 
        type="text" 
        [(ngModel)]="filters.search" 
        (input)="updateFilters()" 
        placeholder="Pesquisar curso..."
      />
      <select 
        [(ngModel)]="filters.category" 
        (change)="updateFilters()" 
      >
        <option value="">Todas as categorias</option>
        <option value="Programação">Programação</option>
        <option value="Design">Design</option>
        <option value="Marketing">Marketing</option>
      </select>
      <div class="flex items-center gap-4">
        <button 
          (click)="updateSortingOrder('asc')">cresc</button>
        <button 
          (click)="updateSortingOrder('desc')" >desc</button>
      </div>
    </div>
  </section>

  <section class="w-full lg:w-2/3 overflow-y-auto">
    <app-course-card *ngFor="let course of filteredCourses$ | async" [course]="course"></app-course-card>
  </section>
</div>

<ng-template #loginTemplate>
  <h2>Você precisa estar logado para acessar essa página.</h2>
  <!-- <button (click)="redirectToLogin()">Ir para Login</button> -->
</ng-template>